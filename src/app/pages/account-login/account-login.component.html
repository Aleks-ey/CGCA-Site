<div class="flex min-h-screen justify-center items-center">
  <div
    class="flex flex-col w-4/5 md:w-1/3 mx-auto justify-center border border-gray-300 rounded-lg p-5"
  >
    <div class="flex flex-col justify-center text-center">
      <form
        [formGroup]="loginForm"
        (ngSubmit)="onLoginSubmit()"
        class="space-y-4"
      >
        <h2 class="mb-4">Already have an account?</h2>
        <div class="flex flex-col">
          <label for="email">Email:</label>
          <input
            class="border rounded-lg px-2"
            type="email"
            id="email"
            name="email"
            formControlName="email"
          />
          <i
            class="text-red-600"
            *ngIf="
              loginForm.controls['email'].invalid &&
              (loginForm.controls['email'].dirty ||
                loginForm.controls['email'].touched)
            "
          >
          </i>
        </div>
        <div class="flex flex-col">
          <label for="password">Password:</label>
          <input
            class="border rounded-lg px-2"
            type="password"
            id="password"
            name="password"
            formControlName="password"
          />
          <i
            class="text-red-600"
            *ngIf="
              loginForm.controls['password'].invalid &&
              (loginForm.controls['password'].dirty ||
                loginForm.controls['password'].touched)
            "
          >
          </i>
        </div>

        <div class="">
          <input
            class="w-full bg-transparent border border-red-600 text-red-600 rounded-lg p-2 mt-2 hover:bg-red-600 hover:text-white"
            type="submit"
          />
        </div>
      </form>
      <button class="mt-1 text-gray-600" (click)="openPasswordResetDialog()">
        Reset Password
      </button>
    </div>

    <div class="flex flex-col mt-10 justify-center">
      <p class="text-center mb-2">Don't have an account?</p>
      <button
        class="bg-transparent border border-red-600 text-red-600 rounded-lg p-2 hover:bg-red-600 hover:text-white"
        (click)="openRegisterDialog()"
      >
        Register
      </button>
    </div>
  </div>
</div>

<!-- Login Failed Dialog -->
<ng-template #dialogLoginFail class="overflow-hidden">
  <div class="p-4">
    <p>Invalid email or password!</p>
  </div>
</ng-template>

<!-- Reset Passowrd Dialog -->
<ng-template #dialogResetPassword class="overflow-hidden">
  <form class="p-4" (ngSubmit)="resetPassword(password_reset_email)">
    <p>Enter your email to reset your password</p>
    <input
      title="password reset"
      [(ngModel)]="password_reset_email"
      class="border rounded-lg px-2"
      type="email"
      name="password_reset_email"
    />
    <button
      type="submit"
      class="bg-transparent border border-red-600 text-red-600 rounded-lg p-2 ml-2 hover:bg-red-600 hover:text-white"
    >
      Reset
    </button>
    <ng-template #dialogPasswordResetSuccess class="overflow-hidden">
      <div class="p-4">
        <p>Password reset email sent!</p>
      </div>
    </ng-template>
    <ng-template #dialogPasswordResetFail class="overflow-hidden">
      <div class="p-4">
        <p>There was an error sending the password reset email</p>
        <p>Please make sure your email is correct and try again.</p>
      </div>
    </ng-template>
  </form>
</ng-template>
